<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE  mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="main">

    <select id="list" parameterType="hashmap" resultType="hashmap">
        SELECT r.Request_title, r.Requester, u.User_score, r.Recruiting_time, r.SolverReady_cnt, r.SolverReady_cnt2
        FROM Request AS r LEFT OUTER JOIN User AS u on r.Requester = u.User_nickname ORDER BY Recruiting_time DESC;
    </select>


    <select id="teamlist" parameterType="hashmap" resultType="hashmap">
        SELECT distinct t.Team_intro, t.Team_leader, u.User_score, t.Team_cr_date,
                        (SELECT COUNT(Team_member) FROM Team_Members WHERE Team_code = #{Team_code})AS 'Team_num_mem'
        FROM Team AS t LEFT OUTER JOIN Team_Members AS tm ON t.Team_code = tm.Team_code
                       LEFT OUTER JOIN User AS u ON t.Team_leader = u.User_nickname;
    </select>


</mapper>